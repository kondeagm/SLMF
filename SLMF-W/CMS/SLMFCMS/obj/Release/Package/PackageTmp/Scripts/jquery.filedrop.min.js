(function(n){function c(n){return(t.drop(n),r=n.dataTransfer.files,r===null||r===undefined)?(t.error(e[0]),!1):(u=r.length,a(),n.preventDefault(),!1)}function s(i,r,u){var o="--",e="\r\n",f="";return n.each(t.data,function(n,t){typeof t=="function"&&(t=t()),f+=o,f+=u,f+=e,f+='Content-Disposition: form-data; name="'+n+'"',f+=e,f+=e,f+=t,f+=e}),f+=o,f+=u,f+=e,f+='Content-Disposition: form-data; name="'+t.paramname+'"',f+='; filename="'+i+'"',f+=e,f+="Content-Type: application/octet-stream",f+=e,f+=e,f+=r,f+=e,f+=o,f+=u,f+=o,f+=e}function l(n){var i,r,u,f,e;n.lengthComputable&&(i=Math.round(n.loaded*100/n.total),this.currentProgress!=i&&(this.currentProgress=i,t.progressUpdated(this.index,this.file,this.currentProgress),r=(new Date).getTime(),u=r-this.currentStart,u>=t.refresh&&(f=n.loaded-this.startData,e=f/u,t.speedUpdated(this.index,this.file,e),this.startData=n.loaded,this.currentStart=r)))}function a(){function a(n){n.target.index==undefined&&(n.target.index=v(n.total));var f=new XMLHttpRequest,e=f.upload,c=r[n.target.index],a=n.target.index,p=(new Date).getTime(),b="------multipartformboundary"+(new Date).getTime(),k;newName=y(c.name),k=typeof newName=="string"?s(newName,n.target.result,b):s(c.name,n.target.result,b),e.index=a,e.file=c,e.downloadStartTime=p,e.currentStart=p,e.currentProgress=0,e.startData=0,e.addEventListener("progress",l,!1),f.open("POST",t.url,!0),f.setRequestHeader("content-type","multipart/form-data; boundary="+b),f.sendAsBinary(k),t.uploadStarted(a,c,u),f.onload=function(){if(f.responseText){var n=(new Date).getTime(),r=n-p,e=t.uploadFinished(a,c,f.responseText,r);h++,h==u-i&&w(),e===!1&&(o=!0)}}}var h,i,n,f,c;if(o=!1,!r)return t.error(e[0]),!1;if(h=0,i=0,u>t.maxfiles)return t.error(e[1]),!1;for(n=0;n<u;n++){if(o)return!1;try{if(p(r[n])!=!1){if(n===u)return;if(f=new FileReader,c=1048576*t.maxfilesize,f.index=n,r[n].size>c){t.error(e[2],r[n],n),i++;continue}f.onloadend=a,f.readAsBinaryString(r[n])}else i++}catch(b){return t.error(e[0]),!1}}}function v(n){for(var t=0;t<u;t++)if(r[t].size==n)return t;return undefined}function y(n){return t.rename(n)}function p(n){return t.beforeEach(n)}function w(){return t.afterAll()}function b(n){clearTimeout(f),n.preventDefault(),t.dragEnter(n)}function k(n){clearTimeout(f),n.preventDefault(),t.docOver(n),t.dragOver(n)}function d(n){clearTimeout(f),t.dragLeave(n),n.stopPropagation()}function g(n){return n.preventDefault(),t.docLeave(n),!1}function nt(n){return clearTimeout(f),n.preventDefault(),t.docEnter(n),!1}function tt(n){return clearTimeout(f),n.preventDefault(),t.docOver(n),!1}function it(n){f=setTimeout(function(){t.docLeave(n)},200)}function i(){}jQuery.event.props.push("dataTransfer");var t={},h={url:"",refresh:1e3,paramname:"userfile",maxfiles:25,maxfilesize:1,data:{},drop:i,dragEnter:i,dragOver:i,dragLeave:i,docEnter:i,docOver:i,docLeave:i,beforeEach:i,afterAll:i,rename:i,error:function(n){alert(n)},uploadStarted:i,uploadFinished:i,progressUpdated:i,speedUpdated:i},e=["BrowserNotSupported","TooManyFiles","FileTooLarge"],f,o=!1,u=0,r;n.fn.filedrop=function(i){t=n.extend({},h,i),this.bind("drop",c).bind("dragenter",b).bind("dragover",k).bind("dragleave",d),n(document).bind("drop",g).bind("dragenter",nt).bind("dragover",tt).bind("dragleave",it)};try{if(XMLHttpRequest.prototype.sendAsBinary)return;XMLHttpRequest.prototype.sendAsBinary=function(n){function t(n){return n.charCodeAt(0)&255}var i=Array.prototype.map.call(n,t),r=new Uint8Array(i);this.send(r)}}catch(rt){}})(jQuery);
//@ sourceMappingURL=jquery.filedrop.min.js.map